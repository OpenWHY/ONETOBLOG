import{a9 as O,aa as y,ab as k,ac as d,d as $,ad as H,ae as q,af as ue,r as b,a7 as pe,ag as de,ah as W,ai as i,aj as ge,a0 as ee,ak as o,al as C,c as h,am as j,an as F,F as V,ao as L,ap as D,aq as me,o as Ae,ar as U,as as _e}from"./vendor-2830d42a.js";import{u as he,N as te,a as fe,_ as ne,b as oe,c as ve,d as Ie,e as se,f as ye,g as Se,h as Ce,i as be,j as Me,k as ze,l as we,m as ke}from"./naive-ui-9e9c5e58.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))c(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&c(a)}).observe(document,{childList:!0,subtree:!0});function r(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerpolicy&&(s.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?s.credentials="include":n.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function c(n){if(n.ep)return;n.ep=!0;const s=r(n);fetch(n.href,s)}})();const Ee={},Re={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},Be=d("g",{fill:"none"},[d("path",{d:"M8.5 2a.5.5 0 0 0 0 1h3.793L3 12.293V8.5a.5.5 0 0 0-1 0v4.9a.6.6 0 0 0 .6.6h4.9a.5.5 0 0 0 0-1H3.707L13 3.707V7.5a.5.5 0 0 0 1 0V2.6a.6.6 0 0 0-.6-.6H8.5z",fill:"currentColor"})],-1),Qe=[Be];function Ue(e,t){return y(),k("svg",Re,Qe)}const X=O(Ee,[["render",Ue]]),Ne={},Te={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},je=d("path",{d:"M4 18v2h6.586L2 28.582L3.414 30L12 21.414V28h2V18H4z",fill:"currentColor"},null,-1),Oe=d("path",{d:"M30 3.416L28.592 2L20 10.586V4h-2v10h10v-2h-6.586L30 3.416z",fill:"currentColor"},null,-1),Pe=[je,Oe];function Ge(e,t){return y(),k("svg",Te,Pe)}const K=O(Ne,[["render",Ge]]),Le="seat-chart-basic-worker",Ze="1.3.0",$e={dev:"vite",build:"vite build",preview:"vite preview"},Je={html2canvas:"^1.4.1",vue:"^3.2.45","vue-qr":"^4.0.9","weixin-js-sdk":"^1.6.0"},We={"@vicons/ionicons4":"^0.12.0","@vicons/ionicons5":"^0.12.0","@vitejs/plugin-vue":"^4.0.0","naive-ui":"^2.34.3","unplugin-auto-import":"^0.12.1","unplugin-vue-components":"^0.22.12",vfonts:"^0.0.3",vite:"^4.0.0"},Z={name:Le,version:Ze,private:!0,scripts:$e,dependencies:Je,devDependencies:We},Fe="_spread_1dzqn_13",Ve="_pulsing_1dzqn_1",xe={"tools-element":"_tools-element_1dzqn_3",spread:Fe,"spread-ring":"_spread-ring_1dzqn_27",pulsing:Ve},Ye=$({props:{title:{type:String,required:!0},size:{type:Number,required:!0},pointScale:{type:Number,required:!0},data:{type:Array,required:!0}},components:{MdBoat:H,MdDownload:q,MaximizeIcon:X,MinimizeIcon:K,IosTrash:ue},setup(e){const{appContext:t}=ee(),r=p=>t.config.globalProperties.$storage.getItem(p),c=(p,_)=>t.config.globalProperties.$storage.setItem(p,_),n=b(null),s=b(null),a=b(null);function l(){c("title",e.title),c("size",e.size),c("pointScale",e.pointScale),c("data",e.data)}window.localStorage.getItem(Z.name)||l();function g(p){c("title",p)}function m(p){c("size",p)}function f(p){c("pointScale",p)}const u=b(!1);function E(){u.value=!u.value}function M(){let p=document.querySelector(".focuse");de(p,{scale:2,logging:!1,useCORS:!0}).then(function(_){let I="png",v=_.toDataURL(I),T=function(G){return G=G.toLowerCase().replace(/jpg/i,"jpeg"),"image/"+G.match(/png|jpeg|bmp|gif/)[0]};v=v.replace(T(I),"image/octet-stream");let P="["+document.domain+"]"+r("title")+"."+I;A(v,P)})}function A(p,_){let I=document.createElementNS("http://www.w3.org/1999/xhtml","a");I.href=p,I.download=_;let v=document.createEvent("MouseEvents");v.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),I.dispatchEvent(v)}function N(){location.reload()}function R(){l(),location.reload()}function z(){var p=S.length;p<8?(S[p]=["姓名"],c("data",S),location.reload()):B.warning("行数已达上限！")}function x(p){var _=[];_=S.slice(0),_.splice(p,1),c("data",_),location.reload()}let S=pe(r("data").slice(0,8));function J(){const p=S.length,_=[];for(var I=0;I<p;I++)_[I]=S[I].join(",");return _}let Y=b(J()),w=b("");const B=he();function Q(p,_){var I=!0;let v=p.split(",");v.length>16&&(B.warning("每行最多16人，当前"+v.length+"人！"),w.value="error",I=!1);for(var T=0;T<v.length;){if(v[T].length>4){B.warning("每个姓名最多4个字，请检查第"+(_+1)+"行"+(T+1)+"位："+v[T]+"！"),w.value="error",I=!1;break}T=T+1}if(I){for(var P=0;P<v.length;P++)S[_][P]=v[P];if(S[_].length>v.length){var G=S[_].length-v.length;S[_].splice(v.length,G)}c("data",S),w.value="",B.success("设置成功！")}}return{MdBoat:H,MdDownload:q,isMaximized:u,toggleMaximized:E,MaximizeIcon:X,MinimizeIcon:K,savecanvas:M,refresh:N,reload:R,add:z,del:x,handleTitle:g,inputTitleRef:n,inputTitle:b(r("title")),handleSize:m,inputSizeRef:s,inputSize:b(r("size")),handlePointScale:f,inputPointScaleRef:a,inputPointScale:b(r("pointScale")),DataRow:S,nameValue:Y,handleChange:Q,inputStatus:w}}}),He={class:"pop-right"},qe={style:{display:"flow-root"}},De={style:{width:"49%",float:"left"}},Xe={style:{width:"49%",float:"right"}},Ke=d("strong",null,"字体大小",-1),et=d("br",null,null,-1),tt=d("strong",null,"颗粒度",-1),nt=d("strong",null,"说明",-1);function ot(e,t,r,c,n,s){const a=L("md-boat"),l=te,g=oe,m=fe,f=L("Md-download"),u=ve,E=Ie,M=se,A=ye,N=Se,R=Ce,z=be,x=L("Ios-trash"),S=Me,J=ze,Y=ne;return y(),W(Y,{trigger:"click","arrow-point-to-center":!0,placement:"top",scrollable:"",style:ge([{width:e.isMaximized?"calc(100vw - 80px)":"288px"},{height:"calc(100vh - 200px)"}])},{trigger:i(()=>[o(g,{class:C(e.$style["tools-element"])},{default:i(()=>[d("div",{class:C(e.$style.spread)},[d("div",{class:C(e.$style["spread-ring"])},null,2),d("div",{class:C(e.$style["spread-ring"])},null,2),d("div",{class:C(e.$style["spread-ring"])},null,2),d("div",{class:C(e.$style["spread-ring"])},null,2),o(l,{size:"25",color:"#ffffff",depth:2,style:{width:"40px","line-height":"45px"}},{default:i(()=>[o(a)]),_:1})],2)]),_:1},8,["class"])]),default:i(()=>[o(M,{justify:"space-between"},{default:i(()=>[o(m,{style:{margin:"10px 0"}},{default:i(()=>[h("参数设置")]),_:1}),d("div",He,[o(E,{trigger:"hover"},{trigger:i(()=>[o(u,{class:"mr-5",onClick:e.savecanvas,secondary:"",circle:"",size:"tiny",style:{margin:"10px 0"}},{default:i(()=>[o(l,null,{default:i(()=>[o(f)]),_:1})]),_:1},8,["onClick"])]),default:i(()=>[h(" 屏幕截图 ")]),_:1}),o(E,{trigger:"hover"},{trigger:i(()=>[o(u,{onClick:e.toggleMaximized,secondary:"",circle:"",size:"tiny",style:{margin:"10px 0"}},{default:i(()=>[o(l,{component:e.isMaximized?e.MinimizeIcon:e.MaximizeIcon},null,8,["component"])]),_:1},8,["onClick"])]),default:i(()=>[h(" "+j(e.isMaximized?"缩小":"放大"),1)]),_:1})])]),_:1}),o(A,{depth:"3"},{default:i(()=>[h("LED显示屏")]),_:1}),o(N,{maxlength:"20","show-count":"",clearable:"",ref:"inputTitleRef",value:e.inputTitle,"onUpdate:value":t[0]||(t[0]=w=>e.inputTitle=w),onInput:e.handleTitle,placeholder:"请输入标题"},null,8,["value","onInput"]),d("div",qe,[d("div",De,[o(A,{depth:"3"},{default:i(()=>[h("字体大小")]),_:1}),o(R,{placeholder:"字体大小",ref:"inputSizeRef",value:e.inputSize,"onUpdate:value":[t[1]||(t[1]=w=>e.inputSize=w),e.handleSize],min:60,max:100,precision:0,step:10},null,8,["value","onUpdate:value"])]),d("div",Xe,[o(A,{depth:"3"},{default:i(()=>[h("颗粒度")]),_:1}),o(R,{placeholder:"颗粒度",ref:"inputPointScaleRef",value:e.inputPointScale,"onUpdate:value":[t[2]||(t[2]=w=>e.inputPointScale=w),e.handlePointScale],min:2,max:6,precision:0},null,8,["value","onUpdate:value"])])]),o(A,{depth:"3",style:{"font-size":"12px"}},{default:i(()=>[Ke,h("范围：60-100，步进：10，默认：60")]),_:1}),et,o(A,{depth:"3",style:{"font-size":"12px"}},{default:i(()=>[tt,h("范围：2-6，步进：1，默认：4")]),_:1}),o(z,{style:{margin:"10px 0"}},{default:i(()=>[h("座次安排")]),_:1}),o(A,{depth:"3",style:{"font-size":"12px"}},{default:i(()=>[nt,h(' 姓名之间请使用","(英文逗号)分离数据！')]),_:1}),o(z,{style:{margin:"10px 0"},dashed:""}),(y(!0),k(V,null,F(e.DataRow,(w,B)=>(y(),k("div",null,[o(A,{depth:"3"},{default:i(()=>[h("第"+j(B+1)+"行：",1)]),_:2},1024),o(S,{"negative-text":"取消","positive-text":"确定",onPositiveClick:Q=>e.del(B)},{trigger:i(()=>[o(u,{text:"",size:"tiny"},{icon:i(()=>[o(l,null,{default:i(()=>[o(x)]),_:1})]),_:1})]),default:i(()=>[h(" 删除后本行数据无法恢复！ ")]),_:2},1032,["onPositiveClick"]),o(N,{value:e.nameValue[B],"onUpdate:value":Q=>e.nameValue[B]=Q,onChange:Q=>e.handleChange(Q,B),status:e.inputStatus,type:"text",style:{margin:"5px 0"},placeholder:"请输入数据"},null,8,["value","onUpdate:value","onChange","status"]),(y(!0),k(V,null,F(w,(Q,p)=>(y(),W(J,{style:{margin:"0 5px 5px 0"}},{default:i(()=>[o(J,{bordered:!1,type:"success",size:"small"},{default:i(()=>[h(j(B+1)+"-"+j(p+1),1)]),_:2},1024),h(" "+j(Q||"空"),1)]),_:2},1024))),256)),o(z,{style:{margin:"10px 0"},dashed:""})]))),256)),o(u,{class:"mt-10",size:"small",block:"",onClick:e.add},{default:i(()=>[h("添加一行")]),_:1},8,["onClick"]),o(u,{class:"mt-10",type:"success",block:"",onClick:e.refresh},{default:i(()=>[h("更新界面")]),_:1},8,["onClick"]),o(z,{style:{margin:"10px 0"}}),o(S,{"negative-text":"取消","positive-text":"确定",onPositiveClick:e.reload},{trigger:i(()=>[o(u,{type:"info",ghost:"",block:""},{default:i(()=>[h("参数重置")]),_:1})]),default:i(()=>[h(" 确定重置所有参数？ ")]),_:1},8,["onPositiveClick"])]),_:1},8,["style"])}const st={$style:xe},le=O(Ye,[["render",ot],["__cssModules",st]]),lt={"qr-element":"_qr-element_1bsp4_3","qr-ico":"_qr-ico_1bsp4_13"},it=$({components:{QrCodeOutline:D,VueQr:me},setup(){const e=b(window.location.href),t=b(176),r=b(0),c=b("https://oneto.x-lib.metahook.cc/assets/public/ico.jpg"),n=b(3);return{QrCodeOutline:D,qrCode:e,qrSize:t,qrMargin:r,qrLogo:c,qrLogoMargin:n}}});function at(e,t,r,c,n,s){const a=L("qr-code-outline"),l=te,g=oe,m=L("vue-qr"),f=ne;return y(),W(f,{trigger:"click","arrow-point-to-center":!0,placement:"top",scrollable:""},{trigger:i(()=>[o(g,{class:C(e.$style["qr-element"])},{default:i(()=>[o(l,{size:"25",depth:2,class:C(e.$style["qr-ico"])},{default:i(()=>[o(a)]),_:1},8,["class"])]),_:1},8,["class"])]),default:i(()=>[o(m,{correctLevel:0,text:e.qrCode,size:e.qrSize,margin:e.qrMargin,logoSrc:e.qrLogo,logoMargin:e.qrLogoMargin,logoCornerRadius:0},null,8,["text","size","margin","logoSrc","logoMargin"])]),_:1})}const rt={$style:lt},ie=O(it,[["render",at],["__cssModules",rt]]),ct="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ1IDc5LjE2MzQ5OSwgMjAxOC8wOC8xMy0xNjo0MDoyMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjcxRkFBRkU4OUZCMzExRUQ5NkRFRjEwOTIzNjMwNDRFIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjcxRkFBRkU5OUZCMzExRUQ5NkRFRjEwOTIzNjMwNDRFIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NzFGQUFGRTY5RkIzMTFFRDk2REVGMTA5MjM2MzA0NEUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NzFGQUFGRTc5RkIzMTFFRDk2REVGMTA5MjM2MzA0NEUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5IoE/wAAAAwFBMVEWOovGcrvOEmvDy9f20wfabrPN9lO+5xfbk6fx0jO5pg+1ObelEZeivvfWywPZhfez4+v5ceetQbur09v5ZduuhsfPd4/vW3fru8f28yPdKaenG0PipuPVVc+rQ2PmktPT8/f/6+/5fe+vY3/rDzvjI0fjS2vlTcer+/v/N1vnq7fxkf+zAy/esuvVnguxuiO3x8/33+P7h5vtHaOlWdOqKn/GisvSWqPLU3PrL1PnT2/qwvvWot/SZq/NDZOj////oS9p0AAAAQHRSTlP///////////////////////////////////////////////////////////////////////////////////8AwnuxRAAAAtJJREFUeNrs3f1T2jAcx/FCgbY8CAIigjAeJjjUoWPo5rb0//+v9G7cjXIHNG2aRPb+/Fju0r5oyyXtN8EJTyQOECBAgAABAgTIB4X4/bOLoqHkavfTWyWQRe5OGM7A+ZEa4hZ7woaUvqWDdNrCkqy8NJB+T9iTP8khU5scQvxOClkMrHKIaj8hpFS1CyLmrUSQS9scQjwngpSsc4jKUwJIa2UfRHxOALmy0CHWCSAvu78ZTQPZvSraCSD5SAvlnyMTfdrbYRD9NsfykGWkqzM21T0frSOSrjxku8/bdM0NNBqR7t4iHWRtcshUVAi5NgnxFEJqJiH3QIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQD4q5Mn9m/p26fBmW0snYLzZaaSoprPZeAzSepkfLvN0HjUxCofnSPR2q/6jkMf60fLIup6zsj5eOjs7AMnHqFnOab8v9qTd2Atx45T6nuuABNJFwBHINFapvY5y01jTC573QmaxiogbGiCVOAeSAwIECJBThJwV/iVvElLaPpKKPGR7guyZScjF9gdzIECAAAECBAgQIECAAAECBAgQIECSQdZO9lnpgOgOECBAgPy/EKOLhj0ohPgmIa8KISYX1luGKiFu2ZSjvlAKCce/gsm5/gTXOwsapobYEiBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgADJENLxCpnF87VBukG2r9bzrh5Iq551kcBypAXyKftyB08LREM1R0kL5Hv2kLIWiIb/dv0KBAgQINlABmVlaWcFiZWiun7tg/TOgQABAuRUIJfp2kqXWrr5GBFItyrblqcOcpNuHBldAlT2qUJF4RKtDdkBW8XdD/GbUk1VFZ6Q91Midz1Ur8L9kNAPJFqb9NU+fBveSTgmN+EhyPt98volXoa++ueI/izxzp3wRAIECBAgQIAAAWJh3gQYAGB6PQ9brxOlAAAAAElFTkSuQmCC",ut="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ1IDc5LjE2MzQ5OSwgMjAxOC8wOC8xMy0xNjo0MDoyMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjhGMTk5RDU5OUZCMzExRUQ5QUIzOERERkVFMDgxMUJGIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjhGMTk5RDVBOUZCMzExRUQ5QUIzOERERkVFMDgxMUJGIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OEYxOTlENTc5RkIzMTFFRDlBQjM4RERGRUUwODExQkYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OEYxOTlENTg5RkIzMTFFRDlBQjM4RERGRUUwODExQkYiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4SHKhCAAAAqFBMVEXp6eni4uLNzc3Q0NDy8vLj4+POzs7f39/////x8fHU1NTT09P5+fno6Ojt7e3MzMz9/f3k5OT7+/v8/Pzn5+fr6+v+/v739/fKysrR0dHv7+/S0tLPz8/e3t76+vr09PTa2trm5ubLy8vX19fZ2dns7Ozb29v29vbz8/PV1dXY2Njq6uru7u7c3Nz19fXd3d3h4eHW1tb4+Pjw8PDl5eXg4ODJycn/////eUS6AAAAOHRSTlP/////////////////////////////////////////////////////////////////////////ADtcEcoAAAK0SURBVHja7N1pc6IwHMdxqEdbT4QKYr21arfXnuH9v7Pdme0DcAcLJCSp+/09dEbCZ4IS4J/gJBcSBwgQIECAAAEC5JNCoqkzcg2l1R8sb5RAeq17YTjt+VEa4rsbYUNWBznIa0NYksmTDOR5I+yJWx2ytMkhxLoqpNcWdmVaEbKyzCHaQSXIUliXUSXIzj7I0KsACSb2QcRzBciDhQ7xVgHy6/SMdGUgp0dFowJkn9lC50doYkx709xmJWF5yGP6+7vQ1PA8fMtAFuUh3fS/hW/uQsObpSE9Ocjc5CWTqxCyNgkZK4T0TUIGQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQD4rxPP/Jl3av37/LNAJCN8bzRTVHPJ25AQSfD1ftDy81lW59XR+jsRmfzgH8T+eYXGvp1fmH5fONs9AXgoUera0/y5yMvNyIYVKfRs6INsitbODXEixInIddZqFpheMciHNQhBPA2Qoyh7kQIAAAXIpECeVF5OQXXpPhuUh6QmyjknIKO9MCQQIECBAgAABAgQIECBAgAABAgRICcj8uv5MdECMrnwEBAgQIP8VxOiiYXcKIZFJSFMhxORKh4+JSojfMeWIe0ohSdjfxg3tib+tT4ao0hBbAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECA1Ql7HTm0ZR9ogi229j9b3gR5IENde7BBqgfysv9xhrAWioZpjpQUyqx/S0QLR8G7XLhAgQIDUA2l3lGVWF6RQXHXj2rvSjQMBAgTIpUCOctuSS19uPkYGslB4KVc6U7nGs0uAfim5KZUv1/ZmUo1nIdGVsQ750yWTco0/JPmQJCrTJ/FU7c23265E4/8sXLw43hZMpP4+4vdm5cad5EICBAgQIECAAAFiYX4LMAB2vEHZSoktXwAAAABJRU5ErkJggg==",pt="_seat_10h5r_3",dt="_seatIco_10h5r_13",gt="_name_10h5r_47",mt="_pink_10h5r_57",At="_no_10h5r_85",_t="_row_10h5r_97",ht={seat:pt,seatIco:dt,name:gt,pink:mt,null:"_null_10h5r_77",no:At,row:_t},ft=$({props:{data:{type:Array,required:!0}},setup(e){return{data:e.data}}}),vt=d("img",{src:ct},null,-1),It=[vt],yt=d("img",{src:ut},null,-1),St=[yt];function Ct(e,t,r,c,n,s){return y(!0),k(V,null,F(e.data,(a,l)=>(y(),k("div",{class:C(e.$style.row)},[(y(!0),k(V,null,F(a,(g,m)=>(y(),k("div",{class:C(e.$style.seat)},[g?(y(),k("div",{key:0,class:C([e.$style.seatIco,e.$style.active])},It,2)):(y(),k("div",{key:1,class:C(e.$style.seatIco)},St,2)),d("div",{class:C(e.$style.name)},[d("span",{class:C(g?e.$style.pink:e.$style.null)},j(g),3)],2),d("div",{class:C(e.$style.no)},j(l+1)+"-"+j(m+1),3)],2))),256))],2))),256)}const bt={$style:ht},ae=O(ft,[["render",Ct],["__cssModules",bt]]);const Mt=$({props:{title:{type:String,required:!0},size:{type:String,required:!0},pointScale:{type:String,required:!0}},setup(e){return Ae(()=>{function t(){}t.prototype.points={},t.prototype.canvas=document.createElement("canvas"),t.prototype.ctx=t.prototype.canvas.getContext("2d"),t.prototype.get=function(n){return this.points[n]||this._createTextPoint(n)},t.prototype.getAll=function(n){var s=this;return n.split("").map(function(a){return s.get(a)})},t.prototype._createTextPoint=function(n){var s=this.canvas,a=this.ctx,l=16;this.clearCanvas();var g=l;s.height=l,n.match(/[\u4E00-\u9FFF]/g)?s.width=l:(s.width=l/2,g=l/2),a.font=l+"px SimSun",a.fillText(n,0,14);for(var m=a.getImageData(0,0,l,l).data,f=[],u=0;u<l;u++){var E="";f.push(E=[]);for(var M=0;M<g;M++){var A=u*l*4+M*4;m[A],m[A+1],m[A+2];var N=m[A+3];E.push(N?1:0)}}return this.points[n]=f},t.prototype.clearCanvas=function(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.getCanvas=function(n,s){s||(s={size:100,pointScale:.2});var a=document.createElement("canvas"),l=a.getContext("2d"),g=n.length,m=s.size/g;a.height=s.size,g!==n[0].length?a.width=s.size/2:a.width=s.size;for(var f=0;f<g;f++)for(var u=0;u<g;u++)n[f][u]?l.fillStyle="red":l.fillStyle="rgb(50,50,50)",l.beginPath(),l.arc(m*(u+.5),m*(f+.5),m*s.pointScale,0,Math.PI*2),l.closePath(),l.fill();return a},t.prototype.getCanvasWithText=function(n,s){return this.getCanvas(this.get(n,s))};var r=new t;r.getAll(e.title).map(n=>{document.getElementById("led").appendChild(r.getCanvas(n,{size:e.size,pointScale:e.pointScale}))});function c(n){for(var s=0,a=0;a<n.length;a++)n.charCodeAt(a)<0||n.charCodeAt(a)>255?s=s+2:s=s+1;return s}led.style.width=c(e.title)*e.size/2+"px",led.style.height=e.size+"px"}),{}}}),zt={id:"led"};function wt(e,t,r,c,n,s){return y(),k("div",zt)}const re=O(Mt,[["render",wt]]),kt=(e,t,r)=>{let c=e.appId,n=e.timestamp,s=e.nonceStr,a=e.signature;U.config({debug:!!r,appId:c,timestamp:n,nonceStr:s,signature:a,jsApiList:["onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ"]}),U.checkJsApi({jsApiList:["chooseImage","updateAppMessageShareData"],success:function(l){console.log(l,"checkJsApi")}}),U.ready(function(){U.updateTimelineShareData({title:t.title,link:t.link+"&t="+n+"&Content=1",imgUrl:t.imgUrl,success:function(l){console.log("已分享"),r&&console.log("分享朋友圈成功返回的信息为:",l)}}),U.updateAppMessageShareData({title:t.title,desc:t.desc,link:t.link+"&t="+n+"&Content=1",imgUrl:t.imgUrl,success:function(l){console.log("已分享"),r&&console.log("分享朋友成功返回的信息为:",l)}}),U.onMenuShareTimeline({title:t.title,desc:t.desc,link:t.link,imgUrl:t.imgUrl,success:function(){console.log("已分享")}}),U.onMenuShareAppMessage({title:t.title,desc:t.desc,link:t.link,imgUrl:t.imgUrl,type:"link",success:function(){console.log("已分享")}}),U.onMenuShareQQ({title:t.title,desc:t.desc,link:t.link,imgUrl:t.imgUrl,success:function(l){console.log("已分享")}})}),U.error(function(l){r&&console.log("验证失败返回的信息:",l)})};const Et=$({components:{Led:re,Tools:le,Seat:ae,Wx:ie},setup(){fetch("https://openpi.cn/api/webshare/wx_sign/",{method:"GET",redirect:"follow"}).then(R=>R.json()).then(R=>{if(R.status===1){let z={};z.title="拍拍铃 | PATPATBELL",z.desc="【壹吐智作 · 零零二】一款有影院选座质感的排座神器，bulabulabula...",z.link=window.location.href,z.imgUrl="https://oneto.x-lib.metahook.cc/assets/pat-pat-bell/images/bell.jpg",kt(R.result,z,0)}});const{appContext:e}=ee(),t=R=>e.config.globalProperties.$storage.getItem(R);var r="座次系统-工具版",c=60,n=4,s=[["姓名","","王二麻子","张三","李四","那伍","","姓名"],["姓名","","","","","","","姓名"],["","姓名","","","","","姓名",""],["","姓名","","","","","姓名",""],["","","姓名","","","姓名","",""],["","","姓名","姓名","姓名","姓名","",""]];const a=" "+(t("title")?t("title"):r)+" ",l=(t("size")?t("size"):c)+"",g=(t("pointScale")?t("pointScale"):n)/10+"",m=t("data")?t("data").slice(0,8):s,f="座次系统工具版@壹吐";var u=new Date,E=u.getFullYear(),M=u.getMonth()+1,A=u.getDate();M>=1&&M<=9&&(M="0"+M),A>=0&&A<=9&&(A="0"+A);const N="   "+E+"-"+M+"-"+A+"$"+Z.version;return{title:r,size:c,pointScale:n,nameArr:s,ledTitle:a,ledSize:l,ledPointScale:g,data:m,WatermarkContent:f,WatermarkContent1:N}}}),Rt={class:"container"};function Bt(e,t,r,c,n,s){const a=ke,l=re,g=ae,m=se,f=ie,u=le,E=we;return y(),W(E,null,{default:i(()=>[o(a,{content:e.WatermarkContent,cross:"",fullscreen:"","font-size":14,"line-height":14,width:260,height:140,"x-offset":12,"y-offset":60,rotate:-15},null,8,["content"]),o(a,{content:e.WatermarkContent1,cross:"",fullscreen:"","font-size":14,"line-height":28,width:260,height:140,"x-offset":12,"y-offset":60,rotate:-15},null,8,["content"]),d("div",Rt,[o(l,{title:e.ledTitle,size:e.ledSize,pointScale:e.ledPointScale,class:"mb-30"},null,8,["title","size","pointScale"]),o(m,{justify:"center"},{default:i(()=>[o(g,{data:e.data},null,8,["data"])]),_:1})]),o(f),o(u,{title:e.title,size:e.size,pointScale:e.pointScale,data:e.nameArr},null,8,["title","size","pointScale","data"])]),_:1})}const Qt=O(Et,[["render",Bt]]);const Ut={getStorage(){return JSON.parse(window.localStorage.getItem(Z.name)||"{}")},setItem(e,t){let r=this.getStorage();r[e]=t,window.localStorage.setItem(Z.name,JSON.stringify(r))},getItem(e){return this.getStorage()[e]},clearItem(e){let t=this.getStorage();delete t[e],window.localStorage.setItem(Z.name,JSON.stringify(t))},clearAll(){window.localStorage.clear()}},ce=_e(Qt);ce.config.globalProperties.$storage=Ut;ce.mount("#root");
